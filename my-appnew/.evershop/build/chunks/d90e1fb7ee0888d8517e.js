"use strict";exports.id=186;exports.ids=[186];exports.modules={13186:(t,e,n)=>{n.d(e,{Swappable:()=>Kn});class r{constructor(t){this._canceled=false;this.data=t}get type(){return this.constructor.type}get cancelable(){return this.constructor.cancelable}cancel(){this._canceled=true}canceled(){return this._canceled}clone(t){return new this.constructor({...this.data,...t})}}r.type="event";r.cancelable=false;const s={mouse:0,drag:0,touch:100};class i{constructor(t=[],e={}){this.containers=[...t];this.options={...e};this.dragging=false;this.currentContainer=null;this.originalSource=null;this.startEvent=null;this.delay=o(e.delay)}attach(){return this}detach(){return this}addContainer(...t){this.containers=[...this.containers,...t]}removeContainer(...t){this.containers=this.containers.filter((e=>!t.includes(e)))}trigger(t,e){const n=document.createEvent("Event");n.detail=e;n.initEvent(e.type,true,true);t.dispatchEvent(n);this.lastEvent=e;return e}}function o(t){const e={};if(t===undefined){return{...s}}if(typeof t==="number"){for(const n in s){if(Object.prototype.hasOwnProperty.call(s,n)){e[n]=t}}return e}for(const n in s){if(Object.prototype.hasOwnProperty.call(s,n)){if(t[n]===undefined){e[n]=s[n]}else{e[n]=t[n]}}}return e}function a(t,e){if(t==null){return null}function n(t){if(t==null||e==null){return false}else if(l(e)){return Element.prototype.matches.call(t,e)}else if(c(e)){return[...e].includes(t)}else if(h(e)){return e===t}else if(d(e)){return e(t)}else{return false}}let r=t;do{r=r.correspondingUseElement||r.correspondingElement||r;if(n(r)){return r}r=r?.parentNode||null}while(r!=null&&r!==document.body&&r!==document);return null}function l(t){return Boolean(typeof t==="string")}function c(t){return Boolean(t instanceof NodeList||t instanceof Array)}function h(t){return Boolean(t instanceof Node)}function d(t){return Boolean(typeof t==="function")}function u(t,e,n,r){return Math.sqrt((n-t)**2+(r-e)**2)}class g extends r{get originalEvent(){return this.data.originalEvent}get clientX(){return this.data.clientX}get clientY(){return this.data.clientY}get target(){return this.data.target}get container(){return this.data.container}get originalSource(){return this.data.originalSource}get pressure(){return this.data.pressure}}class m extends g{}m.type="drag:start";class p extends g{}p.type="drag:move";class f extends g{}f.type="drag:stop";class v extends g{}v.type="drag:pressure";const b=Symbol("onContextMenuWhileDragging");const E=Symbol("onMouseDown");const y=Symbol("onMouseMove");const C=Symbol("onMouseUp");const S=Symbol("startDrag");const w=Symbol("onDistanceChange");class x extends i{constructor(t=[],e={}){super(t,e);this.mouseDownTimeout=null;this.pageX=null;this.pageY=null;this[b]=this[b].bind(this);this[E]=this[E].bind(this);this[y]=this[y].bind(this);this[C]=this[C].bind(this);this[S]=this[S].bind(this);this[w]=this[w].bind(this)}attach(){document.addEventListener("mousedown",this[E],true)}detach(){document.removeEventListener("mousedown",this[E],true)}[E](t){if(t.button!==0||t.ctrlKey||t.metaKey){return}const e=a(t.target,this.containers);if(!e){return}if(this.options.handle&&t.target&&!a(t.target,this.options.handle)){return}const n=a(t.target,this.options.draggable);if(!n){return}const{delay:r}=this;const{pageX:s,pageY:i}=t;Object.assign(this,{pageX:s,pageY:i});this.onMouseDownAt=Date.now();this.startEvent=t;this.currentContainer=e;this.originalSource=n;document.addEventListener("mouseup",this[C]);document.addEventListener("dragstart",D);document.addEventListener("mousemove",this[w]);this.mouseDownTimeout=window.setTimeout((()=>{this[w]({pageX:this.pageX,pageY:this.pageY})}),r.mouse)}[S](){const t=this.startEvent;const e=this.currentContainer;const n=this.originalSource;const r=new m({clientX:t.clientX,clientY:t.clientY,target:t.target,container:e,originalSource:n,originalEvent:t});this.trigger(this.currentContainer,r);this.dragging=!r.canceled();if(this.dragging){document.addEventListener("contextmenu",this[b],true);document.addEventListener("mousemove",this[y])}}[w](t){const{pageX:e,pageY:n}=t;const{distance:r}=this.options;const{startEvent:s,delay:i}=this;Object.assign(this,{pageX:e,pageY:n});if(!this.currentContainer){return}const o=Date.now()-this.onMouseDownAt;const a=u(s.pageX,s.pageY,e,n)||0;clearTimeout(this.mouseDownTimeout);if(o<i.mouse){document.removeEventListener("mousemove",this[w])}else if(a>=r){document.removeEventListener("mousemove",this[w]);this[S]()}}[y](t){if(!this.dragging){return}const e=document.elementFromPoint(t.clientX,t.clientY);const n=new p({clientX:t.clientX,clientY:t.clientY,target:e,container:this.currentContainer,originalEvent:t});this.trigger(this.currentContainer,n)}[C](t){clearTimeout(this.mouseDownTimeout);if(t.button!==0){return}document.removeEventListener("mouseup",this[C]);document.removeEventListener("dragstart",D);document.removeEventListener("mousemove",this[w]);if(!this.dragging){return}const e=document.elementFromPoint(t.clientX,t.clientY);const n=new f({clientX:t.clientX,clientY:t.clientY,target:e,container:this.currentContainer,originalEvent:t});this.trigger(this.currentContainer,n);document.removeEventListener("contextmenu",this[b],true);document.removeEventListener("mousemove",this[y]);this.currentContainer=null;this.dragging=false;this.startEvent=null}[b](t){t.preventDefault()}}function D(t){t.preventDefault()}function L(t){const{touches:e,changedTouches:n}=t;return e&&e[0]||n&&n[0]}const O=Symbol("onTouchStart");const F=Symbol("onTouchEnd");const X=Symbol("onTouchMove");const Y=Symbol("startDrag");const M=Symbol("onDistanceChange");let T=false;window.addEventListener("touchmove",(t=>{if(!T){return}t.preventDefault()}),{passive:false});class A extends i{constructor(t=[],e={}){super(t,e);this.currentScrollableParent=null;this.tapTimeout=null;this.touchMoved=false;this.pageX=null;this.pageY=null;this[O]=this[O].bind(this);this[F]=this[F].bind(this);this[X]=this[X].bind(this);this[Y]=this[Y].bind(this);this[M]=this[M].bind(this)}attach(){document.addEventListener("touchstart",this[O])}detach(){document.removeEventListener("touchstart",this[O])}[O](t){const e=a(t.target,this.containers);if(!e){return}if(this.options.handle&&t.target&&!a(t.target,this.options.handle)){return}const n=a(t.target,this.options.draggable);if(!n){return}const{distance:r=0}=this.options;const{delay:s}=this;const{pageX:i,pageY:o}=L(t);Object.assign(this,{pageX:i,pageY:o});this.onTouchStartAt=Date.now();this.startEvent=t;this.currentContainer=e;this.originalSource=n;document.addEventListener("touchend",this[F]);document.addEventListener("touchcancel",this[F]);document.addEventListener("touchmove",this[M]);e.addEventListener("contextmenu",N);if(r){T=true}this.tapTimeout=window.setTimeout((()=>{this[M]({touches:[{pageX:this.pageX,pageY:this.pageY}]})}),s.touch)}[Y](){const t=this.startEvent;const e=this.currentContainer;const n=L(t);const r=this.originalSource;const s=new m({clientX:n.pageX,clientY:n.pageY,target:t.target,container:e,originalSource:r,originalEvent:t});this.trigger(this.currentContainer,s);this.dragging=!s.canceled();if(this.dragging){document.addEventListener("touchmove",this[X])}T=this.dragging}[M](t){const{distance:e}=this.options;const{startEvent:n,delay:r}=this;const s=L(n);const i=L(t);const o=Date.now()-this.onTouchStartAt;const a=u(s.pageX,s.pageY,i.pageX,i.pageY);Object.assign(this,i);clearTimeout(this.tapTimeout);if(o<r.touch){document.removeEventListener("touchmove",this[M])}else if(a>=e){document.removeEventListener("touchmove",this[M]);this[Y]()}}[X](t){if(!this.dragging){return}const{pageX:e,pageY:n}=L(t);const r=document.elementFromPoint(e-window.scrollX,n-window.scrollY);const s=new p({clientX:e,clientY:n,target:r,container:this.currentContainer,originalEvent:t});this.trigger(this.currentContainer,s)}[F](t){clearTimeout(this.tapTimeout);T=false;document.removeEventListener("touchend",this[F]);document.removeEventListener("touchcancel",this[F]);document.removeEventListener("touchmove",this[M]);if(this.currentContainer){this.currentContainer.removeEventListener("contextmenu",N)}if(!this.dragging){return}document.removeEventListener("touchmove",this[X]);const{pageX:e,pageY:n}=L(t);const r=document.elementFromPoint(e-window.scrollX,n-window.scrollY);t.preventDefault();const s=new f({clientX:e,clientY:n,target:r,container:this.currentContainer,originalEvent:t});this.trigger(this.currentContainer,s);this.currentContainer=null;this.dragging=false;this.startEvent=null}}function N(t){t.preventDefault();t.stopPropagation()}const z=Symbol("onMouseDown");const P=Symbol("onMouseUp");const I=Symbol("onDragStart");const $=Symbol("onDragOver");const k=Symbol("onDragEnd");const q=Symbol("onDrop");const B=Symbol("reset");class j extends(null&&Sensor){constructor(t=[],e={}){super(t,e);this.mouseDownTimeout=null;this.draggableElement=null;this.nativeDraggableElement=null;this[z]=this[z].bind(this);this[P]=this[P].bind(this);this[I]=this[I].bind(this);this[$]=this[$].bind(this);this[k]=this[k].bind(this);this[q]=this[q].bind(this)}attach(){document.addEventListener("mousedown",this[z],true)}detach(){document.removeEventListener("mousedown",this[z],true)}[I](t){t.dataTransfer.setData("text","");t.dataTransfer.effectAllowed=this.options.type;const e=document.elementFromPoint(t.clientX,t.clientY);const n=this.draggableElement;if(!n){return}const r=new DragStartSensorEvent({clientX:t.clientX,clientY:t.clientY,target:e,originalSource:n,container:this.currentContainer,originalEvent:t});setTimeout((()=>{this.trigger(this.currentContainer,r);if(r.canceled()){this.dragging=false}else{this.dragging=true}}),0)}[$](t){if(!this.dragging){return}const e=document.elementFromPoint(t.clientX,t.clientY);const n=this.currentContainer;const r=new DragMoveSensorEvent({clientX:t.clientX,clientY:t.clientY,target:e,container:n,originalEvent:t});this.trigger(n,r);if(!r.canceled()){t.preventDefault();t.dataTransfer.dropEffect=this.options.type}}[k](t){if(!this.dragging){return}document.removeEventListener("mouseup",this[P],true);const e=document.elementFromPoint(t.clientX,t.clientY);const n=this.currentContainer;const r=new DragStopSensorEvent({clientX:t.clientX,clientY:t.clientY,target:e,container:n,originalEvent:t});this.trigger(n,r);this.dragging=false;this.startEvent=null;this[B]()}[q](t){t.preventDefault()}[z](t){if(t.target&&(t.target.form||t.target.contenteditable)){return}const e=t.target;this.currentContainer=closest(e,this.containers);if(!this.currentContainer){return}if(this.options.handle&&e&&!closest(e,this.options.handle)){return}const n=closest(e,this.options.draggable);if(!n){return}const r=closest(t.target,(t=>t.draggable));if(r){r.draggable=false;this.nativeDraggableElement=r}document.addEventListener("mouseup",this[P],true);document.addEventListener("dragstart",this[I],false);document.addEventListener("dragover",this[$],false);document.addEventListener("dragend",this[k],false);document.addEventListener("drop",this[q],false);this.startEvent=t;this.mouseDownTimeout=setTimeout((()=>{n.draggable=true;this.draggableElement=n}),this.delay.drag)}[P](){this[B]()}[B](){clearTimeout(this.mouseDownTimeout);document.removeEventListener("mouseup",this[P],true);document.removeEventListener("dragstart",this[I],false);document.removeEventListener("dragover",this[$],false);document.removeEventListener("dragend",this[k],false);document.removeEventListener("drop",this[q],false);if(this.nativeDraggableElement){this.nativeDraggableElement.draggable=true;this.nativeDraggableElement=null}if(this.draggableElement){this.draggableElement.draggable=false;this.draggableElement=null}}}const H=Symbol("onMouseForceWillBegin");const R=Symbol("onMouseForceDown");const U=Symbol("onMouseDown");const W=Symbol("onMouseForceChange");const _=Symbol("onMouseMove");const V=Symbol("onMouseUp");const G=Symbol("onMouseForceGlobalChange");class K extends(null&&Sensor){constructor(t=[],e={}){super(t,e);this.mightDrag=false;this[H]=this[H].bind(this);this[R]=this[R].bind(this);this[U]=this[U].bind(this);this[W]=this[W].bind(this);this[_]=this[_].bind(this);this[V]=this[V].bind(this)}attach(){for(const t of this.containers){t.addEventListener("webkitmouseforcewillbegin",this[H],false);t.addEventListener("webkitmouseforcedown",this[R],false);t.addEventListener("mousedown",this[U],true);t.addEventListener("webkitmouseforcechanged",this[W],false)}document.addEventListener("mousemove",this[_]);document.addEventListener("mouseup",this[V])}detach(){for(const t of this.containers){t.removeEventListener("webkitmouseforcewillbegin",this[H],false);t.removeEventListener("webkitmouseforcedown",this[R],false);t.removeEventListener("mousedown",this[U],true);t.removeEventListener("webkitmouseforcechanged",this[W],false)}document.removeEventListener("mousemove",this[_]);document.removeEventListener("mouseup",this[V])}[H](t){t.preventDefault();this.mightDrag=true}[R](t){if(this.dragging){return}const e=document.elementFromPoint(t.clientX,t.clientY);const n=t.currentTarget;if(this.options.handle&&e&&!closest(e,this.options.handle)){return}const r=closest(e,this.options.draggable);if(!r){return}const s=new DragStartSensorEvent({clientX:t.clientX,clientY:t.clientY,target:e,container:n,originalSource:r,originalEvent:t});this.trigger(n,s);this.currentContainer=n;this.dragging=!s.canceled();this.mightDrag=false}[V](t){if(!this.dragging){return}const e=new DragStopSensorEvent({clientX:t.clientX,clientY:t.clientY,target:null,container:this.currentContainer,originalEvent:t});this.trigger(this.currentContainer,e);this.currentContainer=null;this.dragging=false;this.mightDrag=false}[U](t){if(!this.mightDrag){return}t.stopPropagation();t.stopImmediatePropagation();t.preventDefault()}[_](t){if(!this.dragging){return}const e=document.elementFromPoint(t.clientX,t.clientY);const n=new DragMoveSensorEvent({clientX:t.clientX,clientY:t.clientY,target:e,container:this.currentContainer,originalEvent:t});this.trigger(this.currentContainer,n)}[W](t){if(this.dragging){return}const e=t.target;const n=t.currentTarget;const r=new DragPressureSensorEvent({pressure:t.webkitForce,clientX:t.clientX,clientY:t.clientY,target:e,container:n,originalEvent:t});this.trigger(n,r)}[G](t){if(!this.dragging){return}const e=t.target;const n=new DragPressureSensorEvent({pressure:t.webkitForce,clientX:t.clientX,clientY:t.clientY,target:e,container:this.currentContainer,originalEvent:t});this.trigger(this.currentContainer,n)}}class Z extends r{constructor(t){super(t);this.data=t}get dragEvent(){return this.data.dragEvent}}Z.type="collidable";class J extends Z{get collidingElement(){return this.data.collidingElement}}J.type="collidable:in";class Q extends Z{get collidingElement(){return this.data.collidingElement}}Q.type="collidable:out";const tt=Symbol("onDragMove");const et=Symbol("onDragStop");const nt=Symbol("onRequestAnimationFrame");class rt extends(null&&AbstractPlugin){constructor(t){super(t);this.currentlyCollidingElement=null;this.lastCollidingElement=null;this.currentAnimationFrame=null;this[tt]=this[tt].bind(this);this[et]=this[et].bind(this);this[nt]=this[nt].bind(this)}attach(){this.draggable.on("drag:move",this[tt]).on("drag:stop",this[et])}detach(){this.draggable.off("drag:move",this[tt]).off("drag:stop",this[et])}getCollidables(){const t=this.draggable.options.collidables;if(typeof t==="string"){return Array.prototype.slice.call(document.querySelectorAll(t))}else if(t instanceof NodeList||t instanceof Array){return Array.prototype.slice.call(t)}else if(t instanceof HTMLElement){return[t]}else if(typeof t==="function"){return t()}else{return[]}}[tt](t){const e=t.sensorEvent.target;this.currentAnimationFrame=requestAnimationFrame(this[nt](e));if(this.currentlyCollidingElement){t.cancel()}const n=new CollidableInEvent({dragEvent:t,collidingElement:this.currentlyCollidingElement});const r=new CollidableOutEvent({dragEvent:t,collidingElement:this.lastCollidingElement});const s=Boolean(this.currentlyCollidingElement&&this.lastCollidingElement!==this.currentlyCollidingElement);const i=Boolean(!this.currentlyCollidingElement&&this.lastCollidingElement);if(s){if(this.lastCollidingElement){this.draggable.trigger(r)}this.draggable.trigger(n)}else if(i){this.draggable.trigger(r)}this.lastCollidingElement=this.currentlyCollidingElement}[et](t){const e=this.currentlyCollidingElement||this.lastCollidingElement;const n=new CollidableOutEvent({dragEvent:t,collidingElement:e});if(e){this.draggable.trigger(n)}this.lastCollidingElement=null;this.currentlyCollidingElement=null}[nt](t){return()=>{const e=this.getCollidables();this.currentlyCollidingElement=closest(t,(t=>e.includes(t)))}}}function st(t,e){return function(n){at(e,"addInitializer"),lt(n,"An initializer"),t.push(n)}}function it(t,e){if(!t(e))throw new TypeError("Attempted to access private element on non-instance")}function ot(t,e,n,r,s,i,o,a,l,c,h){var d;switch(i){case 1:d="accessor";break;case 2:d="method";break;case 3:d="getter";break;case 4:d="setter";break;default:d="field"}var u,g,m={kind:d,name:a?"#"+n:n,static:o,private:a,metadata:h},p={v:!1};if(0!==i&&(m.addInitializer=st(s,p)),a||0!==i&&2!==i){if(2===i)u=function(t){return it(c,t),r.value};else{var f=0===i||1===i;(f||3===i)&&(u=a?function(t){return it(c,t),r.get.call(t)}:function(t){return r.get.call(t)}),(f||4===i)&&(g=a?function(t,e){it(c,t),r.set.call(t,e)}:function(t,e){r.set.call(t,e)})}}else u=function(t){return t[n]},0===i&&(g=function(t,e){t[n]=e});var v=a?c.bind():function(t){return n in t};m.access=u&&g?{get:u,set:g,has:v}:u?{get:u,has:v}:{set:g,has:v};try{return t.call(e,l,m)}finally{p.v=!0}}function at(t,e){if(t.v)throw new Error("attempted to call "+e+" after decoration was finished")}function lt(t,e){if("function"!=typeof t)throw new TypeError(e+" must be a function")}function ct(t,e){var n=typeof e;if(1===t){if("object"!==n||null===e)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0");void 0!==e.get&&lt(e.get,"accessor.get"),void 0!==e.set&&lt(e.set,"accessor.set"),void 0!==e.init&&lt(e.init,"accessor.init")}else if("function"!==n){var r;throw r=0===t?"field":5===t?"class":"method",new TypeError(r+" decorators must return a function or void 0")}}function ht(t){return function(){return t(this)}}function dt(t){return function(e){t(this,e)}}function ut(t,e,n,r,s,i,o,a,l,c,h){var d,u,g,m,p,f,v=n[0];r||Array.isArray(v)||(v=[v]),a?d=0===i||1===i?{get:ht(n[3]),set:dt(n[4])}:3===i?{get:n[3]}:4===i?{set:n[3]}:{value:n[3]}:0!==i&&(d=Object.getOwnPropertyDescriptor(e,s)),1===i?g={get:d.get,set:d.set}:2===i?g=d.value:3===i?g=d.get:4===i&&(g=d.set);for(var b=r?2:1,E=v.length-1;E>=0;E-=b){var y;if(void 0!==(m=ot(v[E],r?v[E-1]:void 0,s,d,l,i,o,a,g,c,h)))ct(i,m),0===i?y=m:1===i?(y=m.init,p=m.get||g.get,f=m.set||g.set,g={get:p,set:f}):g=m,void 0!==y&&(void 0===u?u=y:"function"==typeof u?u=[u,y]:u.push(y))}if(0===i||1===i){if(void 0===u)u=function(t,e){return e};else if("function"!=typeof u){var C=u;u=function(t,e){for(var n=e,r=C.length-1;r>=0;r--)n=C[r].call(t,n);return n}}else{var S=u;u=function(t,e){return S.call(t,e)}}t.push(u)}0!==i&&(1===i?(d.get=g.get,d.set=g.set):2===i?d.value=g:3===i?d.get=g:4===i&&(d.set=g),a?1===i?(t.push((function(t,e){return g.get.call(t,e)})),t.push((function(t,e){return g.set.call(t,e)}))):2===i?t.push(g):t.push((function(t,e){return g.call(t,e)})):Object.defineProperty(e,s,d))}function gt(t,e,n,r){for(var s,i,o,a=[],l=new Map,c=new Map,h=0;h<e.length;h++){var d=e[h];if(Array.isArray(d)){var u,g,m=d[1],p=d[2],f=d.length>3,v=16&m,b=!!(8&m),E=n;if(m&=7,b?(u=t,0!==m&&(g=i=i||[]),f&&!o&&(o=function(e){return bt(e)===t}),E=o):(u=t.prototype,0!==m&&(g=s=s||[])),0!==m&&!f){var y=b?c:l,C=y.get(p)||0;if(!0===C||3===C&&4!==m||4===C&&3!==m)throw new Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+p);y.set(p,!(!C&&m>2)||m)}ut(a,u,d,v,p,m,b,f,g,E,r)}}return mt(a,s),mt(a,i),a}function mt(t,e){e&&t.push((function(t){for(var n=0;n<e.length;n++)e[n].call(t);return t}))}function pt(t,e,n,r){if(e.length){for(var s=[],i=t,o=t.name,a=n?2:1,l=e.length-1;l>=0;l-=a){var c={v:!1};try{var h=e[l].call(n?e[l-1]:void 0,i,{kind:"class",name:o,addInitializer:st(s,c),metadata:r})}finally{c.v=!0}void 0!==h&&(ct(5,h),i=h)}return[ft(i,r),function(){for(var t=0;t<s.length;t++)s[t].call(i)}]}}function ft(t,e){return Object.defineProperty(t,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:e})}function vt(t,e,n,r,s,i){if(arguments.length>=6)var o=i[Symbol.metadata||Symbol.for("Symbol.metadata")];var a=Object.create(void 0===o?null:o),l=gt(t,e,s,a);return n.length||ft(t,a),{e:l,get c(){return pt(t,n,r,a)}}}function bt(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?typeof t:"null"));return t}class Et{constructor(t){this.draggable=t}attach(){throw new Error("Not Implemented")}detach(){throw new Error("Not Implemented")}}function yt(t,{name:e,addInitializer:n}){n((function(){this[e]=t.bind(this)}))}function Ct(t){return requestAnimationFrame((()=>{requestAnimationFrame(t)}))}class St extends r{constructor(t){super(t);this.data=t}get source(){return this.data.source}get originalSource(){return this.data.originalSource}get mirror(){return this.data.mirror}get sourceContainer(){return this.data.sourceContainer}get sensorEvent(){return this.data.sensorEvent}get originalEvent(){if(this.sensorEvent){return this.sensorEvent.originalEvent}return null}}St.type="drag";class wt extends St{}wt.type="drag:start";wt.cancelable=true;class xt extends St{}xt.type="drag:move";class Dt extends St{get overContainer(){return this.data.overContainer}get over(){return this.data.over}}Dt.type="drag:over";Dt.cancelable=true;function Lt(t){return t.type===Dt.type}class Ot extends St{get overContainer(){return this.data.overContainer}get over(){return this.data.over}}Ot.type="drag:out";class Ft extends St{get overContainer(){return this.data.overContainer}}Ft.type="drag:over:container";class Xt extends St{get overContainer(){return this.data.overContainer}}Xt.type="drag:out:container";class Yt extends St{get pressure(){return this.data.pressure}}Yt.type="drag:pressure";class Mt extends St{}Mt.type="drag:stop";Mt.cancelable=true;class Tt extends St{}Tt.type="drag:stopped";var At,Nt;const zt={};class Pt extends Et{constructor(t){At(super(t));this.lastWidth=0;this.lastHeight=0;this.mirror=null}attach(){this.draggable.on("mirror:created",this.onMirrorCreated).on("drag:over",this.onDragOver).on("drag:over:container",this.onDragOver)}detach(){this.draggable.off("mirror:created",this.onMirrorCreated).off("mirror:destroy",this.onMirrorDestroy).off("drag:over",this.onDragOver).off("drag:over:container",this.onDragOver)}getOptions(){return this.draggable.options.resizeMirror||{}}onMirrorCreated({mirror:t}){this.mirror=t}onMirrorDestroy(){this.mirror=null}onDragOver(t){this.resize(t)}resize(t){requestAnimationFrame((()=>{let e=null;const{overContainer:n}=t;if(this.mirror==null||this.mirror.parentNode==null){return}if(this.mirror.parentNode!==n){n.appendChild(this.mirror)}if(Lt(t)){e=t.over}const r=e||this.draggable.getDraggableElementsForContainer(n)[0];if(!r){return}Ct((()=>{const t=r.getBoundingClientRect();if(this.mirror==null||this.lastHeight===t.height&&this.lastWidth===t.width){return}this.mirror.style.width=`${t.width}px`;this.mirror.style.height=`${t.height}px`;this.lastWidth=t.width;this.lastHeight=t.height}))}))}}Nt=Pt;[At]=vt(Nt,[[yt,2,"onMirrorCreated"],[yt,2,"onMirrorDestroy"],[yt,2,"onDragOver"]],[],0,void 0,Et).e;class It extends r{get dragEvent(){return this.data.dragEvent}get snappable(){return this.data.snappable}}It.type="snap";class $t extends It{}$t.type="snap:in";$t.cancelable=true;class kt extends It{}kt.type="snap:out";kt.cancelable=true;const qt=Symbol("onDragStart");const Bt=Symbol("onDragStop");const jt=Symbol("onDragOver");const Ht=Symbol("onDragOut");const Rt=Symbol("onMirrorCreated");const Ut=Symbol("onMirrorDestroy");class Wt extends(null&&AbstractPlugin){constructor(t){super(t);this.firstSource=null;this.mirror=null;this[qt]=this[qt].bind(this);this[Bt]=this[Bt].bind(this);this[jt]=this[jt].bind(this);this[Ht]=this[Ht].bind(this);this[Rt]=this[Rt].bind(this);this[Ut]=this[Ut].bind(this)}attach(){this.draggable.on("drag:start",this[qt]).on("drag:stop",this[Bt]).on("drag:over",this[jt]).on("drag:out",this[Ht]).on("droppable:over",this[jt]).on("droppable:out",this[Ht]).on("mirror:created",this[Rt]).on("mirror:destroy",this[Ut])}detach(){this.draggable.off("drag:start",this[qt]).off("drag:stop",this[Bt]).off("drag:over",this[jt]).off("drag:out",this[Ht]).off("droppable:over",this[jt]).off("droppable:out",this[Ht]).off("mirror:created",this[Rt]).off("mirror:destroy",this[Ut])}[qt](t){if(t.canceled()){return}this.firstSource=t.source}[Bt](){this.firstSource=null}[jt](t){if(t.canceled()){return}const e=t.source||t.dragEvent.source;if(e===this.firstSource){this.firstSource=null;return}const n=new SnapInEvent({dragEvent:t,snappable:t.over||t.droppable});this.draggable.trigger(n);if(n.canceled()){return}if(this.mirror){this.mirror.style.display="none"}e.classList.remove(...this.draggable.getClassNamesFor("source:dragging"));e.classList.add(...this.draggable.getClassNamesFor("source:placed"));setTimeout((()=>{e.classList.remove(...this.draggable.getClassNamesFor("source:placed"))}),this.draggable.options.placedTimeout)}[Ht](t){if(t.canceled()){return}const e=t.source||t.dragEvent.source;const n=new SnapOutEvent({dragEvent:t,snappable:t.over||t.droppable});this.draggable.trigger(n);if(n.canceled()){return}if(this.mirror){this.mirror.style.display=""}e.classList.add(...this.draggable.getClassNamesFor("source:dragging"))}[Rt]({mirror:t}){this.mirror=t}[Ut](){this.mirror=null}}var _t,Vt;const Gt={duration:150,easingFunction:"ease-in-out",horizontal:false};class Kt extends Et{constructor(t){_t(super(t));this.options={...Gt,...this.getOptions()};this.lastAnimationFrame=null}attach(){this.draggable.on("sortable:sorted",this.onSortableSorted)}detach(){this.draggable.off("sortable:sorted",this.onSortableSorted)}getOptions(){return this.draggable.options.swapAnimation||{}}onSortableSorted({oldIndex:t,newIndex:e,dragEvent:n}){const{source:r,over:s}=n;if(this.lastAnimationFrame){cancelAnimationFrame(this.lastAnimationFrame)}this.lastAnimationFrame=requestAnimationFrame((()=>{if(t>=e){Zt(r,s,this.options)}else{Zt(s,r,this.options)}}))}}Vt=Kt;[_t]=vt(Vt,[[yt,2,"onSortableSorted"]],[],0,void 0,Et).e;function Zt(t,e,{duration:n,easingFunction:r,horizontal:s}){for(const i of[t,e]){i.style.pointerEvents="none"}if(s){const n=t.offsetWidth;t.style.transform=`translate3d(${n}px, 0, 0)`;e.style.transform=`translate3d(-${n}px, 0, 0)`}else{const n=t.offsetHeight;t.style.transform=`translate3d(0, ${n}px, 0)`;e.style.transform=`translate3d(0, -${n}px, 0)`}requestAnimationFrame((()=>{for(const s of[t,e]){s.addEventListener("transitionend",Jt);s.style.transition=`transform ${n}ms ${r}`;s.style.transform=""}}))}function Jt(t){if(t.target==null||!Qt(t.target)){return}t.target.style.transition="";t.target.style.pointerEvents="";t.target.removeEventListener("transitionend",Jt)}function Qt(t){return Boolean("style"in t)}const te=Symbol("onSortableSorted");const ee=Symbol("onSortableSort");const ne={duration:150,easingFunction:"ease-in-out"};class re extends(null&&AbstractPlugin){constructor(t){super(t);this.options={...ne,...this.getOptions()};this.lastAnimationFrame=null;this.lastElements=[];this[te]=this[te].bind(this);this[ee]=this[ee].bind(this)}attach(){this.draggable.on("sortable:sort",this[ee]);this.draggable.on("sortable:sorted",this[te])}detach(){this.draggable.off("sortable:sort",this[ee]);this.draggable.off("sortable:sorted",this[te])}getOptions(){return this.draggable.options.sortAnimation||{}}[ee]({dragEvent:t}){const{sourceContainer:e}=t;const n=this.draggable.getDraggableElementsForContainer(e);this.lastElements=Array.from(n).map((t=>({domEl:t,offsetTop:t.offsetTop,offsetLeft:t.offsetLeft})))}[te]({oldIndex:t,newIndex:e}){if(t===e){return}const n=[];let r;let s;let i;if(t>e){r=e;s=t-1;i=1}else{r=t+1;s=e;i=-1}for(let o=r;o<=s;o++){const t=this.lastElements[o];const e=this.lastElements[o+i];n.push({from:t,to:e})}cancelAnimationFrame(this.lastAnimationFrame);this.lastAnimationFrame=requestAnimationFrame((()=>{n.forEach((t=>se(t,this.options)))}))}}function se({from:t,to:e},{duration:n,easingFunction:r}){const s=t.domEl;const i=t.offsetLeft-e.offsetLeft;const o=t.offsetTop-e.offsetTop;s.style.pointerEvents="none";s.style.transform=`translate3d(${i}px, ${o}px, 0)`;requestAnimationFrame((()=>{s.addEventListener("transitionend",ie);s.style.transition=`transform ${n}ms ${r}`;s.style.transform=""}))}function ie(t){t.target.style.transition="";t.target.style.pointerEvents="";t.target.removeEventListener("transitionend",ie)}const oe=Symbol("onInitialize");const ae=Symbol("onDestroy");const le=Symbol("announceEvent");const ce=Symbol("announceMessage");const he="aria-relevant";const de="aria-atomic";const ue="aria-live";const ge="role";const me={expire:7e3};class pe extends Et{constructor(t){super(t);this.options={...me,...this.getOptions()};this.originalTriggerMethod=this.draggable.trigger;this[oe]=this[oe].bind(this);this[ae]=this[ae].bind(this)}attach(){this.draggable.on("draggable:initialize",this[oe])}detach(){this.draggable.off("draggable:destroy",this[ae])}getOptions(){return this.draggable.options.announcements||{}}[le](t){const e=this.options[t.type];if(e&&typeof e==="string"){this[ce](e)}if(e&&typeof e==="function"){this[ce](e(t))}}[ce](t){ve(t,{expire:this.options.expire})}[oe](){this.draggable.trigger=t=>{try{this[le](t)}finally{this.originalTriggerMethod.call(this.draggable,t)}}}[ae](){this.draggable.trigger=this.originalTriggerMethod}}const fe=be();function ve(t,{expire:e}){const n=document.createElement("div");n.textContent=t;fe.appendChild(n);return setTimeout((()=>{fe.removeChild(n)}),e)}function be(){const t=document.createElement("div");t.setAttribute("id","draggable-live-region");t.setAttribute(he,"additions");t.setAttribute(de,"true");t.setAttribute(ue,"assertive");t.setAttribute(ge,"log");t.style.position="fixed";t.style.width="1px";t.style.height="1px";t.style.top="-1px";t.style.overflow="hidden";return t}document.addEventListener("DOMContentLoaded",(()=>{document.body.appendChild(fe)}));const Ee=Symbol("onInitialize");const ye=Symbol("onDestroy");const Ce={};class Se extends Et{constructor(t){super(t);this.options={...Ce,...this.getOptions()};this[Ee]=this[Ee].bind(this);this[ye]=this[ye].bind(this)}attach(){this.draggable.on("draggable:initialize",this[Ee]).on("draggable:destroy",this[ye])}detach(){this.draggable.off("draggable:initialize",this[Ee]).off("draggable:destroy",this[ye]);this[ye]()}getOptions(){return this.draggable.options.focusable||{}}getElements(){return[...this.draggable.containers,...this.draggable.getDraggableElements()]}[Ee](){requestAnimationFrame((()=>{this.getElements().forEach((t=>xe(t)))}))}[ye](){requestAnimationFrame((()=>{this.getElements().forEach((t=>De(t)))}))}}const we=[];function xe(t){const e=Boolean(!t.getAttribute("tabindex")&&t.tabIndex===-1);if(e){we.push(t);t.tabIndex=0}}function De(t){const e=we.indexOf(t);if(e!==-1){t.tabIndex=-1;we.splice(e,1)}}class Le extends r{constructor(t){super(t);this.data=t}get source(){return this.data.source}get originalSource(){return this.data.originalSource}get sourceContainer(){return this.data.sourceContainer}get sensorEvent(){return this.data.sensorEvent}get dragEvent(){return this.data.dragEvent}get originalEvent(){if(this.sensorEvent){return this.sensorEvent.originalEvent}return null}}class Oe extends Le{}Oe.type="mirror:create";class Fe extends Le{get mirror(){return this.data.mirror}}Fe.type="mirror:created";class Xe extends Le{get mirror(){return this.data.mirror}}Xe.type="mirror:attached";class Ye extends Le{get mirror(){return this.data.mirror}get passedThreshX(){return this.data.passedThreshX}get passedThreshY(){return this.data.passedThreshY}}Ye.type="mirror:move";Ye.cancelable=true;class Me extends Le{get mirror(){return this.data.mirror}get passedThreshX(){return this.data.passedThreshX}get passedThreshY(){return this.data.passedThreshY}}Me.type="mirror:moved";class Te extends Le{get mirror(){return this.data.mirror}}Te.type="mirror:destroy";Te.cancelable=true;const Ae=Symbol("onDragStart");const Ne=Symbol("onDragMove");const ze=Symbol("onDragStop");const Pe=Symbol("onMirrorCreated");const Ie=Symbol("onMirrorMove");const $e=Symbol("onScroll");const ke=Symbol("getAppendableContainer");const qe={constrainDimensions:false,xAxis:true,yAxis:true,cursorOffsetX:null,cursorOffsetY:null,thresholdX:null,thresholdY:null};class Be extends Et{constructor(t){super(t);this.options={...qe,...this.getOptions()};this.scrollOffset={x:0,y:0};this.initialScrollOffset={x:window.scrollX,y:window.scrollY};this[Ae]=this[Ae].bind(this);this[Ne]=this[Ne].bind(this);this[ze]=this[ze].bind(this);this[Pe]=this[Pe].bind(this);this[Ie]=this[Ie].bind(this);this[$e]=this[$e].bind(this)}attach(){this.draggable.on("drag:start",this[Ae]).on("drag:move",this[Ne]).on("drag:stop",this[ze]).on("mirror:created",this[Pe]).on("mirror:move",this[Ie])}detach(){this.draggable.off("drag:start",this[Ae]).off("drag:move",this[Ne]).off("drag:stop",this[ze]).off("mirror:created",this[Pe]).off("mirror:move",this[Ie])}getOptions(){return this.draggable.options.mirror||{}}[Ae](t){if(t.canceled()){return}if("ontouchstart"in window){document.addEventListener("scroll",this[$e],true)}this.initialScrollOffset={x:window.scrollX,y:window.scrollY};const{source:e,originalSource:n,sourceContainer:r,sensorEvent:s}=t;this.lastMirrorMovedClient={x:s.clientX,y:s.clientY};const i=new Oe({source:e,originalSource:n,sourceContainer:r,sensorEvent:s,dragEvent:t});this.draggable.trigger(i);if(Ge(s)||i.canceled()){return}const o=this[ke](e)||r;this.mirror=e.cloneNode(true);const a=new Fe({source:e,originalSource:n,sourceContainer:r,sensorEvent:s,dragEvent:t,mirror:this.mirror});const l=new Xe({source:e,originalSource:n,sourceContainer:r,sensorEvent:s,dragEvent:t,mirror:this.mirror});this.draggable.trigger(a);o.appendChild(this.mirror);this.draggable.trigger(l)}[Ne](t){if(!this.mirror||t.canceled()){return}const{source:e,originalSource:n,sourceContainer:r,sensorEvent:s}=t;let i=true;let o=true;if(this.options.thresholdX||this.options.thresholdY){const{x:t,y:e}=this.lastMirrorMovedClient;if(Math.abs(t-s.clientX)<this.options.thresholdX){i=false}else{this.lastMirrorMovedClient.x=s.clientX}if(Math.abs(e-s.clientY)<this.options.thresholdY){o=false}else{this.lastMirrorMovedClient.y=s.clientY}if(!i&&!o){return}}const a=new Ye({source:e,originalSource:n,sourceContainer:r,sensorEvent:s,dragEvent:t,mirror:this.mirror,passedThreshX:i,passedThreshY:o});this.draggable.trigger(a)}[ze](t){if("ontouchstart"in window){document.removeEventListener("scroll",this[$e],true)}this.initialScrollOffset={x:0,y:0};this.scrollOffset={x:0,y:0};if(!this.mirror){return}const{source:e,sourceContainer:n,sensorEvent:r}=t;const s=new Te({source:e,mirror:this.mirror,sourceContainer:n,sensorEvent:r,dragEvent:t});this.draggable.trigger(s);if(!s.canceled()){this.mirror.remove()}}[$e](){this.scrollOffset={x:window.scrollX-this.initialScrollOffset.x,y:window.scrollY-this.initialScrollOffset.y}}[Pe]({mirror:t,source:e,sensorEvent:n}){const r=this.draggable.getClassNamesFor("mirror");const s=({mirrorOffset:t,initialX:e,initialY:n,...r})=>{this.mirrorOffset=t;this.initialX=e;this.initialY=n;this.lastMovedX=e;this.lastMovedY=n;return{mirrorOffset:t,initialX:e,initialY:n,...r}};t.style.display="none";const i={mirror:t,source:e,sensorEvent:n,mirrorClasses:r,scrollOffset:this.scrollOffset,options:this.options,passedThreshX:true,passedThreshY:true};return Promise.resolve(i).then(je).then(He).then(Re).then(Ue).then(_e({initial:true})).then(We).then(s)}[Ie](t){if(t.canceled()){return null}const e=({lastMovedX:t,lastMovedY:e,...n})=>{this.lastMovedX=t;this.lastMovedY=e;return{lastMovedX:t,lastMovedY:e,...n}};const n=e=>{const n=new Me({source:t.source,originalSource:t.originalSource,sourceContainer:t.sourceContainer,sensorEvent:t.sensorEvent,dragEvent:t.dragEvent,mirror:this.mirror,passedThreshX:t.passedThreshX,passedThreshY:t.passedThreshY});this.draggable.trigger(n);return e};const r={mirror:t.mirror,sensorEvent:t.sensorEvent,mirrorOffset:this.mirrorOffset,options:this.options,initialX:this.initialX,initialY:this.initialY,scrollOffset:this.scrollOffset,passedThreshX:t.passedThreshX,passedThreshY:t.passedThreshY,lastMovedX:this.lastMovedX,lastMovedY:this.lastMovedY};return Promise.resolve(r).then(_e({raf:true})).then(e).then(n)}[ke](t){const e=this.options.appendTo;if(typeof e==="string"){return document.querySelector(e)}else if(e instanceof HTMLElement){return e}else if(typeof e==="function"){return e(t)}else{return t.parentNode}}}function je({source:t,...e}){return Ve((n=>{const r=t.getBoundingClientRect();n({source:t,sourceRect:r,...e})}))}function He({sensorEvent:t,sourceRect:e,options:n,...r}){return Ve((s=>{const i=n.cursorOffsetY===null?t.clientY-e.top:n.cursorOffsetY;const o=n.cursorOffsetX===null?t.clientX-e.left:n.cursorOffsetX;const a={top:i,left:o};s({sensorEvent:t,sourceRect:e,mirrorOffset:a,options:n,...r})}))}function Re({mirror:t,source:e,options:n,...r}){return Ve((s=>{let i;let o;if(n.constrainDimensions){const t=getComputedStyle(e);i=t.getPropertyValue("height");o=t.getPropertyValue("width")}t.style.display=null;t.style.position="fixed";t.style.pointerEvents="none";t.style.top=0;t.style.left=0;t.style.margin=0;if(n.constrainDimensions){t.style.height=i;t.style.width=o}s({mirror:t,source:e,options:n,...r})}))}function Ue({mirror:t,mirrorClasses:e,...n}){return Ve((r=>{t.classList.add(...e);r({mirror:t,mirrorClasses:e,...n})}))}function We({mirror:t,...e}){return Ve((n=>{t.removeAttribute("id");delete t.id;n({mirror:t,...e})}))}function _e({withFrame:t=false,initial:e=false}={}){return({mirror:n,sensorEvent:r,mirrorOffset:s,initialY:i,initialX:o,scrollOffset:a,options:l,passedThreshX:c,passedThreshY:h,lastMovedX:d,lastMovedY:u,...g})=>Ve((t=>{const m={mirror:n,sensorEvent:r,mirrorOffset:s,options:l,...g};if(s){const t=c?Math.round((r.clientX-s.left-a.x)/(l.thresholdX||1))*(l.thresholdX||1):Math.round(d);const g=h?Math.round((r.clientY-s.top-a.y)/(l.thresholdY||1))*(l.thresholdY||1):Math.round(u);if(l.xAxis&&l.yAxis||e){n.style.transform=`translate3d(${t}px, ${g}px, 0)`}else if(l.xAxis&&!l.yAxis){n.style.transform=`translate3d(${t}px, ${i}px, 0)`}else if(l.yAxis&&!l.xAxis){n.style.transform=`translate3d(${o}px, ${g}px, 0)`}if(e){m.initialX=t;m.initialY=g}m.lastMovedX=t;m.lastMovedY=g}t(m)}),{frame:t})}function Ve(t,{raf:e=false}={}){return new Promise(((n,r)=>{if(e){requestAnimationFrame((()=>{t(n,r)}))}else{t(n,r)}}))}function Ge(t){return/^drag/.test(t.originalEvent.type)}const Ke=Symbol("onDragStart");const Ze=Symbol("onDragMove");const Je=Symbol("onDragStop");const Qe=Symbol("scroll");const tn={speed:6,sensitivity:50,scrollableElements:[]};class en extends Et{constructor(t){super(t);this.options={...tn,...this.getOptions()};this.currentMousePosition=null;this.scrollAnimationFrame=null;this.scrollableElement=null;this.findScrollableElementFrame=null;this[Ke]=this[Ke].bind(this);this[Ze]=this[Ze].bind(this);this[Je]=this[Je].bind(this);this[Qe]=this[Qe].bind(this)}attach(){this.draggable.on("drag:start",this[Ke]).on("drag:move",this[Ze]).on("drag:stop",this[Je])}detach(){this.draggable.off("drag:start",this[Ke]).off("drag:move",this[Ze]).off("drag:stop",this[Je])}getOptions(){return this.draggable.options.scrollable||{}}getScrollableElement(t){if(this.hasDefinedScrollableElements()){return a(t,this.options.scrollableElements)||document.documentElement}else{return sn(t)}}hasDefinedScrollableElements(){return Boolean(this.options.scrollableElements.length!==0)}[Ke](t){this.findScrollableElementFrame=requestAnimationFrame((()=>{this.scrollableElement=this.getScrollableElement(t.source)}))}[Ze](t){this.findScrollableElementFrame=requestAnimationFrame((()=>{this.scrollableElement=this.getScrollableElement(t.sensorEvent.target)}));if(!this.scrollableElement){return}const e=t.sensorEvent;const n={x:0,y:0};if("ontouchstart"in window){n.y=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;n.x=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0}this.currentMousePosition={clientX:e.clientX-n.x,clientY:e.clientY-n.y};this.scrollAnimationFrame=requestAnimationFrame(this[Qe])}[Je](){cancelAnimationFrame(this.scrollAnimationFrame);cancelAnimationFrame(this.findScrollableElementFrame);this.scrollableElement=null;this.scrollAnimationFrame=null;this.findScrollableElementFrame=null;this.currentMousePosition=null}[Qe](){if(!this.scrollableElement||!this.currentMousePosition){return}cancelAnimationFrame(this.scrollAnimationFrame);const{speed:t,sensitivity:e}=this.options;const n=this.scrollableElement.getBoundingClientRect();const r=n.bottom>window.innerHeight;const s=n.top<0;const i=s||r;const o=on();const a=this.scrollableElement;const l=this.currentMousePosition.clientX;const c=this.currentMousePosition.clientY;if(a!==document.body&&a!==document.documentElement&&!i){const{offsetHeight:r,offsetWidth:s}=a;if(n.top+r-c<e){a.scrollTop+=t}else if(c-n.top<e){a.scrollTop-=t}if(n.left+s-l<e){a.scrollLeft+=t}else if(l-n.left<e){a.scrollLeft-=t}}else{const{innerHeight:n,innerWidth:r}=window;if(c<e){o.scrollTop-=t}else if(n-c<e){o.scrollTop+=t}if(l<e){o.scrollLeft-=t}else if(r-l<e){o.scrollLeft+=t}}this.scrollAnimationFrame=requestAnimationFrame(this[Qe])}}function nn(t){const e=/(auto|scroll)/;const n=getComputedStyle(t,null);const r=n.getPropertyValue("overflow")+n.getPropertyValue("overflow-y")+n.getPropertyValue("overflow-x");return e.test(r)}function rn(t){const e=getComputedStyle(t).getPropertyValue("position");return e==="static"}function sn(t){if(!t){return on()}const e=getComputedStyle(t).getPropertyValue("position");const n=e==="absolute";const r=a(t,(t=>{if(n&&rn(t)){return false}return nn(t)}));if(e==="fixed"||!r){return on()}else{return r}}function on(){return document.scrollingElement||document.documentElement}class an{constructor(){this.callbacks={}}on(t,...e){if(!this.callbacks[t]){this.callbacks[t]=[]}this.callbacks[t].push(...e);return this}off(t,e){if(!this.callbacks[t]){return null}const n=this.callbacks[t].slice(0);for(let r=0;r<n.length;r++){if(e===n[r]){this.callbacks[t].splice(r,1)}}return this}trigger(t){if(!this.callbacks[t.type]){return null}const e=[...this.callbacks[t.type]];const n=[];for(let s=e.length-1;s>=0;s--){const i=e[s];try{i(t)}catch(r){n.push(r)}}if(n.length){console.error(`Draggable caught errors while triggering '${t.type}'`,n)}return this}}class ln extends r{get draggable(){return this.data.draggable}}ln.type="draggable";class cn extends ln{}cn.type="draggable:initialize";class hn extends ln{}hn.type="draggable:destroy";const dn=Symbol("onDragStart");const un=Symbol("onDragMove");const gn=Symbol("onDragStop");const mn=Symbol("onDragPressure");const pn=Symbol("dragStop");const fn={"drag:start":t=>`Picked up ${t.source.textContent.trim()||t.source.id||"draggable element"}`,"drag:stop":t=>`Released ${t.source.textContent.trim()||t.source.id||"draggable element"}`};const vn={"container:dragging":"draggable-container--is-dragging","source:dragging":"draggable-source--is-dragging","source:placed":"draggable-source--placed","container:placed":"draggable-container--placed","body:dragging":"draggable--is-dragging","draggable:over":"draggable--over","container:over":"draggable-container--over","source:original":"draggable--original",mirror:"draggable-mirror"};const bn={draggable:".draggable-source",handle:null,delay:{},distance:0,placedTimeout:800,plugins:[],sensors:[],exclude:{plugins:[],sensors:[]}};class En{constructor(t=[document.body],e={}){if(t instanceof NodeList||t instanceof Array){this.containers=[...t]}else if(t instanceof HTMLElement){this.containers=[t]}else{throw new Error("Draggable containers are expected to be of type `NodeList`, `HTMLElement[]` or `HTMLElement`")}this.options={...bn,...e,classes:{...vn,...e.classes||{}},announcements:{...fn,...e.announcements||{}},exclude:{plugins:e.exclude&&e.exclude.plugins||[],sensors:e.exclude&&e.exclude.sensors||[]}};this.emitter=new an;this.dragging=false;this.plugins=[];this.sensors=[];this[dn]=this[dn].bind(this);this[un]=this[un].bind(this);this[gn]=this[gn].bind(this);this[mn]=this[mn].bind(this);this[pn]=this[pn].bind(this);document.addEventListener("drag:start",this[dn],true);document.addEventListener("drag:move",this[un],true);document.addEventListener("drag:stop",this[gn],true);document.addEventListener("drag:pressure",this[mn],true);const n=Object.values(En.Plugins).filter((t=>!this.options.exclude.plugins.includes(t)));const r=Object.values(En.Sensors).filter((t=>!this.options.exclude.sensors.includes(t)));this.addPlugin(...[...n,...this.options.plugins]);this.addSensor(...[...r,...this.options.sensors]);const s=new cn({draggable:this});this.on("mirror:created",(({mirror:t})=>this.mirror=t));this.on("mirror:destroy",(()=>this.mirror=null));this.trigger(s)}destroy(){document.removeEventListener("drag:start",this[dn],true);document.removeEventListener("drag:move",this[un],true);document.removeEventListener("drag:stop",this[gn],true);document.removeEventListener("drag:pressure",this[mn],true);const t=new hn({draggable:this});this.trigger(t);this.removePlugin(...this.plugins.map((t=>t.constructor)));this.removeSensor(...this.sensors.map((t=>t.constructor)))}addPlugin(...t){const e=t.map((t=>new t(this)));e.forEach((t=>t.attach()));this.plugins=[...this.plugins,...e];return this}removePlugin(...t){const e=this.plugins.filter((e=>t.includes(e.constructor)));e.forEach((t=>t.detach()));this.plugins=this.plugins.filter((e=>!t.includes(e.constructor)));return this}addSensor(...t){const e=t.map((t=>new t(this.containers,this.options)));e.forEach((t=>t.attach()));this.sensors=[...this.sensors,...e];return this}removeSensor(...t){const e=this.sensors.filter((e=>t.includes(e.constructor)));e.forEach((t=>t.detach()));this.sensors=this.sensors.filter((e=>!t.includes(e.constructor)));return this}addContainer(...t){this.containers=[...this.containers,...t];this.sensors.forEach((e=>e.addContainer(...t)));return this}removeContainer(...t){this.containers=this.containers.filter((e=>!t.includes(e)));this.sensors.forEach((e=>e.removeContainer(...t)));return this}on(t,...e){this.emitter.on(t,...e);return this}off(t,e){this.emitter.off(t,e);return this}trigger(t){this.emitter.trigger(t);return this}getClassNameFor(t){return this.getClassNamesFor(t)[0]}getClassNamesFor(t){const e=this.options.classes[t];if(e instanceof Array){return e}else if(typeof e==="string"||e instanceof String){return[e]}else{return[]}}isDragging(){return Boolean(this.dragging)}getDraggableElements(){return this.containers.reduce(((t,e)=>[...t,...this.getDraggableElementsForContainer(e)]),[])}getDraggableElementsForContainer(t){const e=t.querySelectorAll(this.options.draggable);return[...e].filter((t=>t!==this.originalSource&&t!==this.mirror))}cancel(){this[pn]()}[dn](t){const e=yn(t);const{target:n,container:r,originalSource:s}=e;if(!this.containers.includes(r)){return}if(this.options.handle&&n&&!a(n,this.options.handle)){e.cancel();return}this.originalSource=s;this.sourceContainer=r;if(this.lastPlacedSource&&this.lastPlacedContainer){clearTimeout(this.placedTimeoutID);this.lastPlacedSource.classList.remove(...this.getClassNamesFor("source:placed"));this.lastPlacedContainer.classList.remove(...this.getClassNamesFor("container:placed"))}this.source=this.originalSource.cloneNode(true);this.originalSource.parentNode.insertBefore(this.source,this.originalSource);this.originalSource.style.display="none";const i=new wt({source:this.source,originalSource:this.originalSource,sourceContainer:r,sensorEvent:e});this.trigger(i);this.dragging=!i.canceled();if(i.canceled()){this.source.remove();this.originalSource.style.display=null;return}this.originalSource.classList.add(...this.getClassNamesFor("source:original"));this.source.classList.add(...this.getClassNamesFor("source:dragging"));this.sourceContainer.classList.add(...this.getClassNamesFor("container:dragging"));document.body.classList.add(...this.getClassNamesFor("body:dragging"));Cn(document.body,"none");requestAnimationFrame((()=>{const e=yn(t);const n=e.clone({target:this.source});this[un]({...t,detail:n})}))}[un](t){if(!this.dragging){return}const e=yn(t);const{container:n}=e;let r=e.target;const s=new xt({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:e});this.trigger(s);if(s.canceled()){e.cancel()}r=a(r,this.options.draggable);const i=a(e.target,this.containers);const o=e.overContainer||i;const l=this.currentOverContainer&&o!==this.currentOverContainer;const c=this.currentOver&&r!==this.currentOver;const h=o&&this.currentOverContainer!==o;const d=i&&r&&this.currentOver!==r;if(c){const t=new Ot({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:e,over:this.currentOver,overContainer:this.currentOverContainer});this.currentOver.classList.remove(...this.getClassNamesFor("draggable:over"));this.currentOver=null;this.trigger(t)}if(l){const t=new Xt({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:e,overContainer:this.currentOverContainer});this.currentOverContainer.classList.remove(...this.getClassNamesFor("container:over"));this.currentOverContainer=null;this.trigger(t)}if(h){o.classList.add(...this.getClassNamesFor("container:over"));const t=new Ft({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:e,overContainer:o});this.currentOverContainer=o;this.trigger(t)}if(d){r.classList.add(...this.getClassNamesFor("draggable:over"));const t=new Dt({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:e,overContainer:o,over:r});this.currentOver=r;this.trigger(t)}}[pn](t){if(!this.dragging){return}this.dragging=false;const e=new Mt({source:this.source,originalSource:this.originalSource,sensorEvent:t?t.sensorEvent:null,sourceContainer:this.sourceContainer});this.trigger(e);if(!e.canceled())this.source.parentNode.insertBefore(this.originalSource,this.source);this.source.remove();this.originalSource.style.display="";this.source.classList.remove(...this.getClassNamesFor("source:dragging"));this.originalSource.classList.remove(...this.getClassNamesFor("source:original"));this.originalSource.classList.add(...this.getClassNamesFor("source:placed"));this.sourceContainer.classList.add(...this.getClassNamesFor("container:placed"));this.sourceContainer.classList.remove(...this.getClassNamesFor("container:dragging"));document.body.classList.remove(...this.getClassNamesFor("body:dragging"));Cn(document.body,"");if(this.currentOver){this.currentOver.classList.remove(...this.getClassNamesFor("draggable:over"))}if(this.currentOverContainer){this.currentOverContainer.classList.remove(...this.getClassNamesFor("container:over"))}this.lastPlacedSource=this.originalSource;this.lastPlacedContainer=this.sourceContainer;this.placedTimeoutID=setTimeout((()=>{if(this.lastPlacedSource){this.lastPlacedSource.classList.remove(...this.getClassNamesFor("source:placed"))}if(this.lastPlacedContainer){this.lastPlacedContainer.classList.remove(...this.getClassNamesFor("container:placed"))}this.lastPlacedSource=null;this.lastPlacedContainer=null}),this.options.placedTimeout);const n=new Tt({source:this.source,originalSource:this.originalSource,sensorEvent:t?t.sensorEvent:null,sourceContainer:this.sourceContainer});this.trigger(n);this.source=null;this.originalSource=null;this.currentOverContainer=null;this.currentOver=null;this.sourceContainer=null}[gn](t){this[pn](t)}[mn](t){if(!this.dragging){return}const e=yn(t);const n=this.source||a(e.originalEvent.target,this.options.draggable);const r=new Yt({sensorEvent:e,source:n,pressure:e.pressure});this.trigger(r)}}En.Plugins={Announcement:pe,Focusable:Se,Mirror:Be,Scrollable:en};En.Sensors={MouseSensor:x,TouchSensor:A};function yn(t){return t.detail}function Cn(t,e){t.style.webkitUserSelect=e;t.style.mozUserSelect=e;t.style.msUserSelect=e;t.style.oUserSelect=e;t.style.userSelect=e}class Sn extends r{constructor(t){super(t);this.data=t}get dragEvent(){return this.data.dragEvent}}Sn.type="droppable";class wn extends Sn{get dropzone(){return this.data.dropzone}}wn.type="droppable:start";wn.cancelable=true;class xn extends Sn{get dropzone(){return this.data.dropzone}}xn.type="droppable:dropped";xn.cancelable=true;class Dn extends Sn{get dropzone(){return this.data.dropzone}}Dn.type="droppable:returned";Dn.cancelable=true;class Ln extends Sn{get dropzone(){return this.data.dropzone}}Ln.type="droppable:stop";Ln.cancelable=true;const On=Symbol("onDragStart");const Fn=Symbol("onDragMove");const Xn=Symbol("onDragStop");const Yn=Symbol("dropInDropZone");const Mn=Symbol("returnToOriginalDropzone");const Tn=Symbol("closestDropzone");const An=Symbol("getDropzones");function Nn({dragEvent:t,dropzone:e}){const n=t.source.textContent.trim()||t.source.id||"draggable element";const r=e.textContent.trim()||e.id||"droppable element";return`Dropped ${n} into ${r}`}function zn({dragEvent:t,dropzone:e}){const n=t.source.textContent.trim()||t.source.id||"draggable element";const r=e.textContent.trim()||e.id||"droppable element";return`Returned ${n} from ${r}`}const Pn={"droppable:dropped":Nn,"droppable:returned":zn};const In={"droppable:active":"draggable-dropzone--active","droppable:occupied":"draggable-dropzone--occupied"};const $n={dropzone:".draggable-droppable"};class kn extends(null&&Draggable){constructor(t=[],e={}){super(t,{...$n,...e,classes:{...In,...e.classes||{}},announcements:{...Pn,...e.announcements||{}}});this.dropzones=null;this.lastDropzone=null;this.initialDropzone=null;this[On]=this[On].bind(this);this[Fn]=this[Fn].bind(this);this[Xn]=this[Xn].bind(this);this.on("drag:start",this[On]).on("drag:move",this[Fn]).on("drag:stop",this[Xn])}destroy(){super.destroy();this.off("drag:start",this[On]).off("drag:move",this[Fn]).off("drag:stop",this[Xn])}[On](t){if(t.canceled()){return}this.dropzones=[...this[An]()];const e=closest(t.sensorEvent.target,this.options.dropzone);if(!e){t.cancel();return}const n=new DroppableStartEvent({dragEvent:t,dropzone:e});this.trigger(n);if(n.canceled()){t.cancel();return}this.initialDropzone=e;for(const r of this.dropzones){if(r.classList.contains(this.getClassNameFor("droppable:occupied"))){continue}r.classList.add(...this.getClassNamesFor("droppable:active"))}}[Fn](t){if(t.canceled()){return}const e=this[Tn](t.sensorEvent.target);const n=e&&!e.classList.contains(this.getClassNameFor("droppable:occupied"));if(n&&this[Yn](t,e)){this.lastDropzone=e}else if((!e||e===this.initialDropzone)&&this.lastDropzone){this[Mn](t);this.lastDropzone=null}}[Xn](t){const e=new DroppableStopEvent({dragEvent:t,dropzone:this.lastDropzone||this.initialDropzone});this.trigger(e);const n=this.getClassNamesFor("droppable:occupied");for(const r of this.dropzones){r.classList.remove(...this.getClassNamesFor("droppable:active"))}if(this.lastDropzone&&this.lastDropzone!==this.initialDropzone){this.initialDropzone.classList.remove(...n)}this.dropzones=null;this.lastDropzone=null;this.initialDropzone=null}[Yn](t,e){const n=new DroppableDroppedEvent({dragEvent:t,dropzone:e});this.trigger(n);if(n.canceled()){return false}const r=this.getClassNamesFor("droppable:occupied");if(this.lastDropzone){this.lastDropzone.classList.remove(...r)}e.appendChild(t.source);e.classList.add(...r);return true}[Mn](t){const e=new DroppableReturnedEvent({dragEvent:t,dropzone:this.lastDropzone});this.trigger(e);if(e.canceled()){return}this.initialDropzone.appendChild(t.source);this.lastDropzone.classList.remove(...this.getClassNamesFor("droppable:occupied"))}[Tn](t){if(!this.dropzones){return null}return closest(t,this.dropzones)}[An](){const t=this.options.dropzone;if(typeof t==="string"){return document.querySelectorAll(t)}else if(t instanceof NodeList||t instanceof Array){return t}else if(typeof t==="function"){return t()}else{return[]}}}class qn extends r{constructor(t){super(t);this.data=t}get dragEvent(){return this.data.dragEvent}}qn.type="swappable";class Bn extends qn{}Bn.type="swappable:start";Bn.cancelable=true;class jn extends qn{get over(){return this.data.over}get overContainer(){return this.data.overContainer}}jn.type="swappable:swap";jn.cancelable=true;class Hn extends qn{get swappedElement(){return this.data.swappedElement}}Hn.type="swappable:swapped";class Rn extends qn{}Rn.type="swappable:stop";const Un=Symbol("onDragStart");const Wn=Symbol("onDragOver");const _n=Symbol("onDragStop");function Vn({dragEvent:t,swappedElement:e}){const n=t.source.textContent.trim()||t.source.id||"swappable element";const r=e.textContent.trim()||e.id||"swappable element";return`Swapped ${n} with ${r}`}const Gn={"swappabled:swapped":Vn};class Kn extends En{constructor(t=[],e={}){super(t,{...e,announcements:{...Gn,...e.announcements||{}}});this.lastOver=null;this[Un]=this[Un].bind(this);this[Wn]=this[Wn].bind(this);this[_n]=this[_n].bind(this);this.on("drag:start",this[Un]).on("drag:over",this[Wn]).on("drag:stop",this[_n])}destroy(){super.destroy();this.off("drag:start",this._onDragStart).off("drag:over",this._onDragOver).off("drag:stop",this._onDragStop)}[Un](t){const e=new Bn({dragEvent:t});this.trigger(e);if(e.canceled()){t.cancel()}}[Wn](t){if(t.over===t.originalSource||t.over===t.source||t.canceled()){return}const e=new jn({dragEvent:t,over:t.over,overContainer:t.overContainer});this.trigger(e);if(e.canceled()){return}if(this.lastOver&&this.lastOver!==t.over){Jn(this.lastOver,t.source)}if(this.lastOver===t.over){this.lastOver=null}else{this.lastOver=t.over}Jn(t.source,t.over);const n=new Hn({dragEvent:t,swappedElement:t.over});this.trigger(n)}[_n](t){const e=new Rn({dragEvent:t});this.trigger(e);this.lastOver=null}}function Zn(t){const e=document.createElement("div");t(e);e.remove()}function Jn(t,e){const n=e.parentNode;const r=t.parentNode;Zn((s=>{r.insertBefore(s,t);n.insertBefore(t,e);r.insertBefore(e,s)}))}class Qn extends r{constructor(t){super(t);this.data=t}get dragEvent(){return this.data.dragEvent}}Qn.type="sortable";class tr extends Qn{get startIndex(){return this.data.startIndex}get startContainer(){return this.data.startContainer}}tr.type="sortable:start";tr.cancelable=true;class er extends Qn{get currentIndex(){return this.data.currentIndex}get over(){return this.data.over}get overContainer(){return this.data.dragEvent.overContainer}}er.type="sortable:sort";er.cancelable=true;class nr extends Qn{get oldIndex(){return this.data.oldIndex}get newIndex(){return this.data.newIndex}get oldContainer(){return this.data.oldContainer}get newContainer(){return this.data.newContainer}}nr.type="sortable:sorted";class rr extends Qn{get oldIndex(){return this.data.oldIndex}get newIndex(){return this.data.newIndex}get oldContainer(){return this.data.oldContainer}get newContainer(){return this.data.newContainer}}rr.type="sortable:stop";const sr=Symbol("onDragStart");const ir=Symbol("onDragOverContainer");const or=Symbol("onDragOver");const ar=Symbol("onDragStop");function lr({dragEvent:t}){const e=t.source.textContent.trim()||t.source.id||"sortable element";if(t.over){const n=t.over.textContent.trim()||t.over.id||"sortable element";const r=t.source.compareDocumentPosition(t.over)&Node.DOCUMENT_POSITION_FOLLOWING;if(r){return`Placed ${e} after ${n}`}else{return`Placed ${e} before ${n}`}}else{return`Placed ${e} into a different container`}}const cr={"sortable:sorted":lr};class hr extends(null&&Draggable){constructor(t=[],e={}){super(t,{...e,announcements:{...cr,...e.announcements||{}}});this.startIndex=null;this.startContainer=null;this[sr]=this[sr].bind(this);this[ir]=this[ir].bind(this);this[or]=this[or].bind(this);this[ar]=this[ar].bind(this);this.on("drag:start",this[sr]).on("drag:over:container",this[ir]).on("drag:over",this[or]).on("drag:stop",this[ar])}destroy(){super.destroy();this.off("drag:start",this[sr]).off("drag:over:container",this[ir]).off("drag:over",this[or]).off("drag:stop",this[ar])}index(t){return this.getSortableElementsForContainer(t.parentNode).indexOf(t)}getSortableElementsForContainer(t){const e=t.querySelectorAll(this.options.draggable);return[...e].filter((e=>e!==this.originalSource&&e!==this.mirror&&e.parentNode===t))}[sr](t){this.startContainer=t.source.parentNode;this.startIndex=this.index(t.source);const e=new SortableStartEvent({dragEvent:t,startIndex:this.startIndex,startContainer:this.startContainer});this.trigger(e);if(e.canceled()){t.cancel()}}[ir](t){if(t.canceled()){return}const{source:e,over:n,overContainer:r}=t;const s=this.index(e);const i=new SortableSortEvent({dragEvent:t,currentIndex:s,source:e,over:n});this.trigger(i);if(i.canceled()){return}const o=this.getSortableElementsForContainer(r);const a=ur({source:e,over:n,overContainer:r,children:o});if(!a){return}const{oldContainer:l,newContainer:c}=a;const h=this.index(t.source);const d=new SortableSortedEvent({dragEvent:t,oldIndex:s,newIndex:h,oldContainer:l,newContainer:c});this.trigger(d)}[or](t){if(t.over===t.originalSource||t.over===t.source){return}const{source:e,over:n,overContainer:r}=t;const s=this.index(e);const i=new SortableSortEvent({dragEvent:t,currentIndex:s,source:e,over:n});this.trigger(i);if(i.canceled()){return}const o=this.getDraggableElementsForContainer(r);const a=ur({source:e,over:n,overContainer:r,children:o});if(!a){return}const{oldContainer:l,newContainer:c}=a;const h=this.index(e);const d=new SortableSortedEvent({dragEvent:t,oldIndex:s,newIndex:h,oldContainer:l,newContainer:c});this.trigger(d)}[ar](t){const e=new SortableStopEvent({dragEvent:t,oldIndex:this.startIndex,newIndex:this.index(t.source),oldContainer:this.startContainer,newContainer:t.source.parentNode});this.trigger(e);this.startIndex=null;this.startContainer=null}}function dr(t){return Array.prototype.indexOf.call(t.parentNode.children,t)}function ur({source:t,over:e,overContainer:n,children:r}){const s=!r.length;const i=t.parentNode!==n;const o=e&&t.parentNode===e.parentNode;if(s){return gr(t,n)}else if(o){return mr(t,e)}else if(i){return pr(t,e,n)}else{return null}}function gr(t,e){const n=t.parentNode;e.appendChild(t);return{oldContainer:n,newContainer:e}}function mr(t,e){const n=dr(t);const r=dr(e);if(n<r){t.parentNode.insertBefore(t,e.nextElementSibling)}else{t.parentNode.insertBefore(t,e)}return{oldContainer:t.parentNode,newContainer:t.parentNode}}function pr(t,e,n){const r=t.parentNode;if(e){e.parentNode.insertBefore(t,e)}else{n.appendChild(t)}return{oldContainer:r,newContainer:t.parentNode}}}};